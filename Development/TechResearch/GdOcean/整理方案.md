# GdOcean æ–‡ä»¶å¤¹æ•´ç†æ–¹æ¡ˆ

## ğŸ› å·²ä¿®å¤çš„ç ´å›¾é—®é¢˜

### 1. èŠ‚ç‚¹è·¯å¾„é”™è¯¯ï¼ˆå·²ä¿®å¤ï¼‰

**é—®é¢˜ï¼š**
```gdscript
// HybridOceanTest.tscn ä¸­ä½¿ç”¨äº†ç»å¯¹è·¯å¾„ï¼ˆåŒ…å«ç¼–è¾‘å™¨å†…éƒ¨èŠ‚ç‚¹ï¼‰
ocean_node = NodePath("/root/@EditorNode@20438/.../HybridOceanTest/OceanGenerator")
```

**ä¿®å¤ï¼š**
```gdscript
// æ”¹ä¸ºç›¸å¯¹è·¯å¾„
ocean_node = NodePath("../OceanGenerator")
```

**ä»£ç ä¿®å¤ï¼š**
```gdscript
// OceanTest.gd ç¬¬ 109 è¡Œ
// ä¿®å¤å‰ï¼šball.set_ocean_node(gen.get_path())  // å¯èƒ½è¿”å›ç»å¯¹è·¯å¾„
// ä¿®å¤åï¼š
var relative_path = get_path_to(gen)
ball.set_ocean_node(relative_path)
```

---

### 2. å˜é‡é®è”½è­¦å‘Šï¼ˆå·²ä¿®å¤ï¼‰

**é—®é¢˜ï¼š**
```gdscript
var local_ocean: Node3D = null  // ç¬¬ 26 è¡Œ
// åœ¨å‡½æ•°ä¸­ä½¿ç”¨ local_ocean å˜é‡åï¼Œä¸ç±»æˆå‘˜å˜é‡å†²çª
```

**ä¿®å¤ï¼š**
```gdscript
var local_ocean_sim: Node3D = null  // é‡å‘½åé¿å…å†²çª
```

---

### 3. æœªä½¿ç”¨å‚æ•°è­¦å‘Šï¼ˆå·²ä¿®å¤ï¼‰

**é—®é¢˜ï¼š**
```gdscript
func _process(delta):  // delta æœªä½¿ç”¨
```

**ä¿®å¤ï¼š**
```gdscript
func _process(_delta: float):  // æ·»åŠ ä¸‹åˆ’çº¿å‰ç¼€
```

---

## ğŸ“ æ–‡ä»¶å¤¹æ•´ç†å»ºè®®

### å½“å‰é—®é¢˜

1. **æ„å»ºæ—¥å¿—æ–‡ä»¶è¿‡å¤š**
   - `build*.log`, `build*.txt`, `error*.log` ç­‰æ–‡ä»¶æ•£è½åœ¨æ ¹ç›®å½•
   - å»ºè®®ï¼šç§»åŠ¨åˆ° `build_logs/` æˆ–æ·»åŠ åˆ° `.gitignore`

2. **æ–‡ä»¶ç»„ç»‡æ··ä¹±**
   - åœºæ™¯æ–‡ä»¶ã€è„šæœ¬ã€æ„å»ºæ–‡ä»¶æ··åœ¨ä¸€èµ·
   - å»ºè®®ï¼šæŒ‰ç±»å‹åˆ†ç±»

### å»ºè®®çš„æ–°ç»“æ„

```
GdOcean/
â”œâ”€â”€ src/                    # C++ æºä»£ç 
â”‚   â”œâ”€â”€ gd_ocean.h
â”‚   â”œâ”€â”€ gd_ocean.cpp
â”‚   â”œâ”€â”€ register_types.cpp
â”‚   â””â”€â”€ OceanFFT_Reference.cpp.txt
â”‚
â”œâ”€â”€ godot-cpp/              # Godot C++ ç»‘å®šï¼ˆå­æ¨¡å—ï¼‰
â”‚
â”œâ”€â”€ Scenes/                 # åœºæ™¯æ–‡ä»¶
â”‚   â”œâ”€â”€ HybridOceanTest.tscn
â”‚   â””â”€â”€ OceanDemoScene.tscn
â”‚
â”œâ”€â”€ Scripts/                # GDScript è„šæœ¬
â”‚   â”œâ”€â”€ OceanTest.gd
â”‚   â””â”€â”€ OceanTest.gd.uid
â”‚
â”œâ”€â”€ Config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ gd_ocean.gdextension
â”‚   â”œâ”€â”€ gd_ocean.gdextension.uid
â”‚   â””â”€â”€ SConstruct
â”‚
â”œâ”€â”€ Build/                  # æ„å»ºç›¸å…³ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ build_logs/        # æ„å»ºæ—¥å¿—
â”‚   â””â”€â”€ bin/               # æ„å»ºäº§ç‰©
â”‚
â”œâ”€â”€ Docs/                   # æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ æ–‡ä»¶å¤¹æ•´ç†è¯´æ˜.md
â”‚
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥è§„åˆ™
â””â”€â”€ rebuild_all.bat        # æ„å»ºè„šæœ¬
```

---

## ğŸ§¹ æ¸…ç†æ­¥éª¤

### æ­¥éª¤ 1ï¼šåˆ›å»ºå­æ–‡ä»¶å¤¹

```bash
# åœ¨ GdOcean ç›®å½•ä¸‹åˆ›å»º
mkdir Scenes
mkdir Scripts
mkdir Config
mkdir Docs
mkdir Build
mkdir Build\build_logs
```

### æ­¥éª¤ 2ï¼šç§»åŠ¨æ–‡ä»¶

**åœºæ™¯æ–‡ä»¶ï¼š**
```
HybridOceanTest.tscn â†’ Scenes/
OceanDemoScene.tscn â†’ Scenes/
```

**è„šæœ¬æ–‡ä»¶ï¼š**
```
OceanTest.gd â†’ Scripts/
OceanTest.gd.uid â†’ Scripts/
```

**é…ç½®æ–‡ä»¶ï¼š**
```
gd_ocean.gdextension â†’ Config/
gd_ocean.gdextension.uid â†’ Config/
SConstruct â†’ Config/
```

**æ„å»ºæ—¥å¿—ï¼š**
```
build*.log â†’ Build/build_logs/
build*.txt â†’ Build/build_logs/
error*.log â†’ Build/build_logs/
*.log â†’ Build/build_logs/
```

**æ–‡æ¡£ï¼š**
```
README.md â†’ Docs/
```

### æ­¥éª¤ 3ï¼šæ›´æ–°è·¯å¾„å¼•ç”¨

ç§»åŠ¨æ–‡ä»¶åï¼Œéœ€è¦æ›´æ–°ï¼š
- åœºæ™¯æ–‡ä»¶ä¸­çš„è„šæœ¬è·¯å¾„
- `SConstruct` ä¸­çš„è·¯å¾„å¼•ç”¨
- `.gdextension` æ–‡ä»¶ä¸­çš„è·¯å¾„

---

## âœ… å¿«é€Ÿæ•´ç†ï¼ˆæ‰‹åŠ¨ï¼‰

å¦‚æœä¸æƒ³å¤§æ”¹ç»“æ„ï¼Œå¯ä»¥ï¼š

1. **åˆ›å»º `build_logs/` æ–‡ä»¶å¤¹**
2. **ç§»åŠ¨æ‰€æœ‰ `*.log` å’Œ `*.txt` æ–‡ä»¶åˆ° `build_logs/`**
3. **æ·»åŠ  `.gitignore` å¿½ç•¥æ„å»ºäº§ç‰©**

è¿™æ ·è‡³å°‘å¯ä»¥è®©æ ¹ç›®å½•æ›´æ•´æ´ã€‚

---

## ğŸ“ .gitignore å»ºè®®

```gitignore
# æ„å»ºäº§ç‰©
bin/
*.pdb
*.exp
*.lib
*.obj
*.dll
*.so
*.dylib

# æ„å»ºæ—¥å¿—ï¼ˆå¦‚æœä¸æƒ³æäº¤ï¼‰
build*.log
build*.txt
error*.log
*.log

# SCons
.sconsign.dblite

# ä¸´æ—¶æ–‡ä»¶
*.tmp
*.bak
*~
```

---

**æ•´ç†å®Œæˆæ—¶é—´**ï¼š2024
**çŠ¶æ€**ï¼šâœ… ç ´å›¾é—®é¢˜å·²ä¿®å¤ï¼Œæ•´ç†æ–¹æ¡ˆå·²æä¾›
