# WaterSystem è³‡æ–™å¤¾çµæ§‹èªªæ˜

æœ¬ç›®éŒ„å·²ç¶“éé‡æ•´ï¼Œä»¥æå‡ç¶­è­·æ€§èˆ‡æ¸…æ™°åº¦ã€‚çµæ§‹å¦‚ä¸‹ï¼š

## ğŸ“ Core (æ ¸å¿ƒé‚è¼¯)
åŒ…å«æ°´é«”ç³»çµ±çš„æ ¸å¿ƒæ§åˆ¶å™¨èˆ‡ç®¡ç†å™¨ã€‚
*   `WaterManager.gd`: å…¨å±€æ°´é«”ç®¡ç†å™¨ (AutoLoad)ï¼Œè² è²¬ç‰©ç†åŒæ­¥èˆ‡æ³¢æµªè¨ˆç®—ã€‚
*   `WaterController.gd`: æ›è¼‰æ–¼æ°´é«” Mesh çš„è¦–è¦ºæ§åˆ¶å™¨ï¼Œè² è²¬æ›´æ–° Shader åƒæ•¸ã€‚

## ğŸ“ Physics (ç‰©ç†ç³»çµ±)
åŒ…å«æµ®åŠ›ã€é˜»åŠ›èˆ‡å¤–åŠ›è¨ˆç®—ã€‚
*   `WaterspoutForce.gd`: æµ·é¾æ²çš„å¸åŠ›èˆ‡å‡åŠ›é‚è¼¯ã€‚
*   `Buoyancy/`: æµ®åŠ›ç³»çµ±çµ„ä»¶ã€‚
    *   `BuoyantCell.gd`: æµ®åŠ›å–®å…ƒã€‚
    *   `FluidDrag.gd`: æ°´é˜»åŠ›æ¨¡æ“¬ã€‚
    *   `MassCalculation.gd`: è³ªé‡èˆ‡æ…£æ€§è‡ªå‹•è¨ˆç®—ã€‚

## ğŸ“ VFX (è¦–è¦ºç‰¹æ•ˆ)
åŒ…å« Shaderã€æè³ªèˆ‡ç²’å­ç³»çµ±ã€‚
*   `ShaderFiles/`: GDShader åŸå§‹ç¢¼ (`stylized_water.gdshader`, `waterspout_funnel.gdshader`)ã€‚
*   `Materials/`: è³‡æºæ–‡ä»¶ (`WaterMaterial.tres` ç­‰)ã€‚
*   `Particles/`: ç²’å­ç‰¹æ•ˆå ´æ™¯ (`WaterspoutVFX.tscn`, `SplashParticles.tscn`)ã€‚
*   `RippleSystem/`: å‹•æ…‹æ¼£æ¼ªç³»çµ± (Viewport èˆ‡ Shader)ã€‚
*   `WaveSplashDetector.gd`: é£›æ¿ºåµæ¸¬è…³æœ¬ã€‚

## ğŸ“ Scenes (å ´æ™¯èˆ‡é è£½ä»¶)
*   `Prefabs/`: å¯é‡è¤‡ä½¿ç”¨çš„ç‰©ä»¶ (`Waterspout.tscn`, `StylizedShip.tscn`, `FloatingBox.tscn`)ã€‚
*   `Tests/`: æ¸¬è©¦å ´æ™¯ (`WaterTest.tscn`)ã€‚

## ğŸ“ Docs (æ–‡æª”)
å°ˆæ¡ˆé–‹ç™¼æ—¥èªŒèˆ‡æŠ€è¡“æ–‡ä»¶ã€‚

## ğŸ“ textures (è²¼åœ–)
é›œè¨Šçº¹ç†èˆ‡åŠŸèƒ½æ€§è²¼åœ–ã€‚

---
**æ³¨æ„**ï¼šæ‰€æœ‰è…³æœ¬èˆ‡è³‡æºçš„è·¯å¾‘å·²æ›´æ–°ã€‚è‹¥é‡åˆ°ä¾è³´ä¸Ÿå¤±ï¼Œè«‹æª¢æŸ¥æ˜¯å¦å¼•ç”¨äº†èˆŠè·¯å¾‘ã€‚
